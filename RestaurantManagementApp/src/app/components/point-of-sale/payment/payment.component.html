


<div class="row text-md-center text-lg-center text-sm-center text-center" style="font-weight: 500; padding-bottom: 10px;">
  <div class="col-xl-12">

    Payment

  </div>
</div>


<div class="row" style="padding-bottom: 2px; padding-top: 2px;">

  <div class="col-xl-4 col-lg-2">
    <button
      type="button"
      routerLink="/pos/"
      class="btn btn-info">Tables</button> &nbsp;

    <button
      type="button"
      routerLink="/pos/{{ tableId }}/menu"
      class="btn btn-dark">Menu</button> &nbsp;

    <button
      type="button"
      [disabled]="tendered < order.GrossTotalPrice || isDisabled"
      (click)="validateOrder()"
      class="btn btn-warning">Validate</button> &nbsp;

    <button
      type="button"
      [disabled]="order.CurrentState !== 'Paid'"
      (click)="printOrderReceipt()"
      class="btn btn-success">Print</button> &nbsp;



  </div>


</div>

<br>

<div class="row" style="padding-bottom: 2px; padding-top: 2px;">

  <div class="col-xl-2 col-lg-2" style="font-weight: 500;`">

    <label>Total</label>
    <input
      disabled
      type="number"
      min="0"
      class="form-control"
      [ngModel]="order.TotalPrice">
  </div>

  <div class="col-xl-2 col-lg-2" style="font-weight: 500;">

    <label>Tendered</label>
    <input
      type="number"
      min="0"
      class="form-control"
      [(ngModel)]="tendered">

  </div>


    <div class="col-xl-2 col-lg-2"
         style="font-weight: 500;"
         *ngIf="(tendered - order.TotalPrice) >= 0; else showZero">

      <label>Change</label>
      <input
        disabled
        type="number"
        min="0"
        class="form-control"
        [ngModel]="tendered - order.TotalPrice">

    </div>

  <ng-template #showZero>

    <div class="col-xl-2 col-lg-2" style="font-weight: 500;">
      <label>Change</label>
      <input
        disabled
        type="number"
        min="0"
        class="form-control"
        [ngModel]="'0'">
    </div>

  </ng-template>



  <div class="col-xl-4 col-lg-4" style="font-weight: 500;">
    <form #discountForm ="ngForm">

          <div class="row form-group">
            <div class="col-xl-6">

              <label>Discount Rate</label>
              <input
                required
                name="discountRate"
                id="discountRate"
                type="number"
                ngModel
                min="1"
                class="form-control">

            </div>

            <div class="col-xl-6">

              <label for="discountType">Type</label>
              <select
                required
                ngModel class="form-control" name="discountType" id="discountType">
                <option value="" selected disabled hidden>Select</option>
                <option value="flat" selected>Flat</option>
                <option value="percent">Percent</option>
              </select>

            </div>
          </div>

    </form>

  </div>

  <div class="col-xl-1 col-lg-1" style="padding-top: 32px;">

    <button
      type="submit"
      [disabled]="discountForm.invalid"
      (click)="calculateOrderDiscount(discountForm)"
      class="btn btn-success">Add</button>

  </div>




</div>

<br>

<div class="row" >
  <div class="col-xl-8">

    <div class="row" style="text-align: center; font-weight: 500;">
      <div class="col-xl-12">

        Cart

      </div>
    </div>

    <hr>

    <div class="row" style="font-size: 15px;">

      <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6" style="word-break: break-word">

        SN & Name

      </div>

      <div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2" style="word-break: break-word">

        Price

      </div>

      <div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2" style="word-break: break-word">

        Quantity

      </div>

      <div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2" style="word-break: break-word">

        Total

      </div>

    </div>

    <div style="font-size: 15px; padding-top: 20px;">

      <div *ngFor="let orderedItem of mergedArrayOfOrderedItems">

        <div class="row">
          <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6" style="word-break: break-word">
            {{ getFoodItemInformation('Name and Serial', orderedItem.FoodItemId) }}
          </div>

          <div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2" style="word-break: break-word">
            {{ getFoodItemInformation('Price', orderedItem.FoodItemId) }}
          </div>

          <div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2" style="word-break: break-word">
            {{ orderedItem.FoodItemQuantity }}
          </div>

          <div class="col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2" style="word-break: break-word">
            {{ orderedItem.TotalPrice }}
          </div>
        </div>

        <hr>
      </div>


      <div
        class="row"
        style="text-align: right; padding-top: 5px; padding-bottom: 5px; font-weight: 500;">
        <div class="col-xl-12">

          Total: {{ order.TotalPrice }} BDT

        </div>
      </div>

      <div
        *ngIf="setting.VatRate !== null"
        class="row"
        style="text-align: right; padding-top: 5px; padding-bottom: 5px; font-weight: 500;">
        <div class="col-xl-12">

          Vat {{ setting.VatRate }}%: {{ order.VatAmount.toFixed(2) }} BDT

        </div>
      </div>

      <div class="row"
        *ngIf="setting.ServiceChargeRate !== null"
        style="text-align: right; padding-top: 5px; padding-bottom: 5px; font-weight: 500;">
        <div class="col-xl-12">

          Service Charge {{ setting.ServiceChargeRate }}%: {{ order.ServiceChargeAmount.toFixed(2) }} BDT

        </div>
      </div>

      <div class="row"
           *ngIf="order.DiscountRate !== 0"
           style="text-align: right; padding-top: 5px; padding-bottom: 5px; font-weight: 500;">
        <div class="col-xl-12">

         <span *ngIf="order.DiscountType === 'Percent'">
           Discount {{ order.DiscountRate }}%: {{ order.DiscountAmount }} BDT
          <i
            title="Remove discount"
            style="cursor: pointer"
            (click)="removeOrderDiscount()"
            class="fa fa-times-circle-o"
            aria-hidden="true"></i>
           </span>

         <span *ngIf="order.DiscountType === 'Flat'">
           Flat Discount {{ order.DiscountRate }} BDT
          <i
            title="Remove discount"
            style="cursor: pointer"
            (click)="removeOrderDiscount()"
            class="fa fa-times-circle-o"
            aria-hidden="true"></i>
           </span>

        </div>
      </div>

      <div class="row"
           style="text-align: right;
           padding-top: 5px;
           padding-bottom: 5px;
           font-size: 17px;
           font-weight: bold;">
        <div class="col-xl-12">

          Gross Total: {{ order.GrossTotalPrice.toFixed(2) }} BDT

        </div>
      </div>


  </div>

  </div>

  <div class="col-xl-4">


    <!--<div id="invoice-POS">-->

      <!--<div id="top">-->
        <!--<div class="logo"></div>-->
        <!--<div class="info">-->
          <!--<h2>SBISTechs Inc</h2>-->
        <!--</div>&lt;!&ndash;End Info&ndash;&gt;-->
      <!--</div>&lt;!&ndash;End InvoiceTop&ndash;&gt;-->

      <!--<div id="mid">-->
        <!--<div class="info">-->
          <!--<h2>Contact Info</h2>-->
          <!--<p>-->
            <!--Address : street city, state 0000<br>-->
            <!--Email   : JohnDoe@gmail.com<br>-->
            <!--Phone   : 555-555-5555<br>-->
          <!--</p>-->
        <!--</div>-->
      <!--</div>&lt;!&ndash;End Invoice Mid&ndash;&gt;-->

      <!--<div id="bot">-->

        <!--<div id="table">-->
          <!--<table>-->
            <!--<tr class="tabletitle">-->
              <!--<td class="item"><h2>Item</h2></td>-->
              <!--<td class="Hours"><h2>Qty</h2></td>-->
              <!--<td class="Rate"><h2>Sub Total</h2></td>-->
            <!--</tr>-->

            <!--<tr class="service">-->
              <!--<td class="tableitem"><p class="itemtext">Communication</p></td>-->
              <!--<td class="tableitem"><p class="itemtext">5</p></td>-->
              <!--<td class="tableitem"><p class="itemtext">$375.00</p></td>-->
            <!--</tr>-->

            <!--<tr class="service">-->
              <!--<td class="tableitem"><p class="itemtext">Asset Gathering</p></td>-->
              <!--<td class="tableitem"><p class="itemtext">3</p></td>-->
              <!--<td class="tableitem"><p class="itemtext">$225.00</p></td>-->
            <!--</tr>-->

            <!--<tr class="service">-->
              <!--<td class="tableitem"><p class="itemtext">Design Development</p></td>-->
              <!--<td class="tableitem"><p class="itemtext">5</p></td>-->
              <!--<td class="tableitem"><p class="itemtext">$375.00</p></td>-->
            <!--</tr>-->

            <!--<tr class="service">-->
              <!--<td class="tableitem"><p class="itemtext">Animation</p></td>-->
              <!--<td class="tableitem"><p class="itemtext">20</p></td>-->
              <!--<td class="tableitem"><p class="itemtext">$1500.00</p></td>-->
            <!--</tr>-->

            <!--<tr class="service">-->
              <!--<td class="tableitem"><p class="itemtext">Animation Revisions</p></td>-->
              <!--<td class="tableitem"><p class="itemtext">10</p></td>-->
              <!--<td class="tableitem"><p class="itemtext">$750.00</p></td>-->
            <!--</tr>-->


            <!--<tr class="tabletitle">-->
              <!--<td></td>-->
              <!--<td class="Rate"><h2>tax</h2></td>-->
              <!--<td class="payment"><h2>$419.25</h2></td>-->
            <!--</tr>-->

            <!--<tr class="tabletitle">-->
              <!--<td></td>-->
              <!--<td class="Rate"><h2>Total</h2></td>-->
              <!--<td class="payment"><h2>$3,644.25</h2></td>-->
            <!--</tr>-->

          <!--</table>-->
        <!--</div>&lt;!&ndash;End Table&ndash;&gt;-->

        <!--<div id="legalcopy">-->
          <!--<p class="legal"><strong>Thank you for your business!</strong>Â  Payment is expected within 31 days; please process this invoice within that time. There will be a 5% interest charge per month on late invoices.-->
          <!--</p>-->
        <!--</div>-->

      <!--</div>&lt;!&ndash;End InvoiceBot&ndash;&gt;-->
    <!--</div>&lt;!&ndash;End Invoice&ndash;&gt;-->


    <div id="print-section">

      <div class="test"
           style="padding-top: 30px;
           padding-bottom: 30px; background-color: #6a0d0e;">

        <span style="font-size: 30px;"></span> hgsdkjhsadjhk

      </div>

    </div>

  </div>

</div>






